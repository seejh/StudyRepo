
# 8.1 RDBMS와 NoSQL
앞서 알아본 DB는 관계형 데이터베이스(RDBMS)라고 한다. RDBMS는 테이블과 외래 키 등을 사용하고 다양한 종류의 질의 구문으로 원하는 정보를 다각적으로
빠르게 추출할 수 있다. 또 RDBMS는 데이터의 일관성을 중요하게 생각한다. NoSQL은 RDBMS의 이런 특성들을 포기하는 대신 다른 측면의 장점을 가질 수 있는
DB이다. <br/>

RDBMS를 사용하며 아쉬워지는 상황을 예제로 살펴보며 NoSQL의 이점을 알아보자. <br/>
한 테이블에 저장된 레코드들은 모두 같은 형태의 필드를 가져야 한다. 플레이어가 아이템을 구매한 로그를 담는 테이블을 생각해보자.
테이블 정의는 아래와 같다.
* 획득한 시간
* 플레이어ID
* 획득한 아이템 종류

이러한 형태로 현재 DB 테이블에 레코드가 약 1억 개 쌓여있다. 그런데 게임을 유지 보수하다 보니 여기에 다음 필드를 추가해야 하는 상황이 되었다.
* 구매 개수

구매 개수라는 필드를 추가하면 기존에 쌓여 있던 레코드 1억 개에도 구매 개수라는 필드를 반드시 추가해야 한다. 한 테이블의 모든 레코드는 필드 구성이
모두 같아야 하기 때문이다. 필드는 null 값을 가질 수 있기에 기존 레코드에는 새로 추가된 필드 값이 모두 null로 처리할 수 있다. <br/>

그런데 다시 게임을 유지 보수하다 보니 플레이어ID 대신 플레이어의 email 주소를 저장해야 하고 지금까지는 아이템 종류만 로그로 남겼는데 이제 아이템
이름까지 문자열 형태로 남겨야 하는 상황이 되었다. 이렇게 되면 점점 테이블의 구조는 복잡해지고 괴상해진다. 기존 테이블의 필드 구조를 바꾸는 것은 
우리 인간에게도 힘들지만 DB 입장에서도 많은 양의 처리를 단시간에 해야 하는 어려운 일이다. 위의 상황에서 필드 하나를 추가하면 DB 엔진은 기존에 있는
레코드 1억 개 전체에 필드를 추가해야 한다. 그 필드가 null을 갖고 있더라도 말이다. 이때 DB 엔진은 장시간 가동을 멈춘다. 하지만 게임 서비스가 계속
가용되어야 하는 상황이라면 이것은 문제가 된다. 또 프로그램 구조가 복잡해질수록 테이블 구조도 변경해야 한다. 유지 보수하면서 점점 힘들어진다. <br/>

앞에서 플레이어 데이터 트리 전체를 JSON 문서 형태로 만든 후 이를 테이블 필드 하나에 모두 저장하는 방법도 보여줬었는데 관계형 DB에서 이렇게 사용하는 것은
일반적인 사용법이 아니다. RDBMS에서 레코드 1개는 논리적으로 볼 때 리스트나 배열 구조의 데이터이다. 이 레코드가 리스트나 배열이 아닌 트리나 구조체 형태를 갖출
수 있다면 어떨까? NoSQL은 이를 보여준다.

<hr/><br/><br/>

# 
